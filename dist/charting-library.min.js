!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ChartingLibrary=e():t.ChartingLibrary=e()}(this,(()=>(()=>{var t={215:()=>{},527:()=>{},825:()=>{}},e={};function n(i){var r=e[i];if(void 0!==r)return r.exports;var o=e[i]={exports:{}};return t[i](o,o.exports,n),o.exports}n.d=(t,e)=>{for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{"use strict";function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,r(i.key),i)}}function r(e){var n=function(e){if("object"!=t(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,"string");if("object"!=t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(n)?n:n+""}function o(t){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o(t)}function a(t){return function(t){if(Array.isArray(t))return s(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return s(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=Array(e);n<e;n++)i[n]=t[n];return i}function l(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,i)}return n}function c(t,e,n){return(e=h(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,h(i.key),i)}}function h(t){var e=function(t){if("object"!=o(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==o(e)?e:e+""}function f(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(f=function(){return!!t})()}function d(t){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},d(t)}function y(t,e){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},y(t,e)}n.r(i),n.d(i,{BaselineChart:()=>g.BaselineChart,CandlestickChart:()=>p,HeikinAshiChart:()=>b.HeikinAshiChart,RenkoChart:()=>v.RenkoChart});var p=function(t){function e(t,n){var i;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(i=function(t,e,n){return e=d(e),function(t,e){if(e&&("object"==o(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,f()?Reflect.construct(e,n||[],d(t).constructor):e.apply(t,n))}(this,e,[t,n])).padding=20,i.candleWidth=10,i.spaceBetweenCandles=5,i.scaleY=1,i.offsetX=0,i.minScale=.5,i.maxScale=2,i.isDragging=!1,i.lastMouseX=0,i.isDraw=!1,i.isDrawing=!1,i.lines=[],i.currentLine=null,i.lineStyle={color:"#1a73e8",width:2,style:"solid",label:""},i.selectedLine=null,i.undoStack=[],i.redoStack=[];var r=localStorage.getItem("chartLines");return r&&(i.lines=JSON.parse(r)),i.canvas.addEventListener("wheel",i.handleZoom.bind(i)),i.canvas.addEventListener("mousedown",i.handleMouseDown.bind(i)),i.canvas.addEventListener("mousemove",i.handleMouseMove.bind(i)),i.canvas.addEventListener("mouseup",i.handleMouseUp.bind(i)),i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y(t,e)}(e,t),n=e,i=[{key:"drawLine",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.isDraw=t,t||(this.isDrawing=!1,this.currentLine=null),e.color&&(this.lineStyle.color=e.color),e.width&&(this.lineStyle.width=e.width),e.style&&(this.lineStyle.style=e.style),e.label&&(this.lineStyle.label=e.label)}},{key:"undo",value:function(){this.lines.length>0&&(this.undoStack.push(this.lines.pop()),this.saveLinestoStorage(),this.draw())}},{key:"redo",value:function(){this.undoStack.length>0&&(this.lines.push(this.undoStack.pop()),this.saveLinestoStorage(),this.draw())}},{key:"setLineStyle",value:function(t){Object.assign(this.lineStyle,t),this.draw(),this.draw()}},{key:"saveLinestoStorage",value:function(){localStorage.setItem("chartLines",JSON.stringify(this.lines))}},{key:"handleZoom",value:function(t){t.preventDefault();var e=t.offsetX;t.deltaY<0?this.scaleY=Math.min(1.1*this.scaleY,this.maxScale):this.scaleY=Math.max(this.scaleY/1.1,this.minScale);var n=(e-this.offsetX)/this.scaleY;this.offsetX=e-n*this.scaleY,this.draw()}},{key:"handleMouseDown",value:function(t){var e=this.canvas.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;if(this.isDraw)this.isDrawing=!0,this.currentLine={startX:n,startY:i,endX:n,endY:i,color:this.lineStyle.color,width:this.lineStyle.width,style:this.lineStyle.style,label:this.lineStyle.label};else{var r=this.findClickedLine(n,i);r?this.selectedLine=r:(this.isDragging=!0,this.lastMouseX=t.clientX)}}},{key:"handleMouseMove",value:function(t){if(this.isDraw&&this.isDrawing&&this.currentLine){var e=this.canvas.getBoundingClientRect(),n=t.clientX-e.left,i=t.clientY-e.top;this.currentLine.endX=n,this.currentLine.endY=i,this.draw()}else if(this.isDragging){var r=t.clientX-this.lastMouseX;this.offsetX+=r,this.lastMouseX=t.clientX,this.draw()}}},{key:"handleMouseUp",value:function(){this.isDraw&&this.isDrawing&&this.currentLine&&(this.lines.push(function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?l(Object(n),!0).forEach((function(e){c(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},this.currentLine)),this.saveLinestoStorage(),this.isDrawing=!1,this.currentLine=null),this.isDragging=!1,this.selectedLine=null}},{key:"findClickedLine",value:function(t,e){var n=this;return this.lines.find((function(i){return n.pointToLineDistance(t,e,i)<5}))}},{key:"pointToLineDistance",value:function(t,e,n){var i,r,o=t-n.startX,a=e-n.startY,s=n.endX-n.startX,l=n.endY-n.startY,c=s*s+l*l,u=-1;0!==c&&(u=(o*s+a*l)/c),u<0?(i=n.startX,r=n.startY):u>1?(i=n.endX,r=n.endY):(i=n.startX+u*s,r=n.startY+u*l);var h=t-i,f=e-r;return Math.sqrt(h*h+f*f)}},{key:"draw",value:function(){var t=this;this.clearCanvas(),this.drawAxes(),this.drawGrid(),this.lines.forEach((function(e){t.ctx.strokeStyle=e.color||t.lineStyle.color,t.ctx.lineWidth=e.width||t.lineStyle.width,"dashed"===e.style?t.ctx.setLineDash([5,5]):"dotted"===e.style?t.ctx.setLineDash([2,2]):t.ctx.setLineDash([]),t.ctx.beginPath(),t.ctx.moveTo(e.startX,e.startY),t.ctx.lineTo(e.endX,e.endY),t.ctx.stroke(),e.label&&(t.ctx.font="12px Arial",t.ctx.fillStyle=e.color||t.lineStyle.color,t.ctx.fillText(e.label,e.endX+5,e.endY)),t.ctx.setLineDash([])})),this.currentLine&&(this.ctx.beginPath(),this.ctx.moveTo(this.currentLine.startX,this.currentLine.startY),this.ctx.lineTo(this.currentLine.endX,this.currentLine.endY),this.ctx.stroke());var e=this.data,n=this.ctx,i=this.canvas,r=i.height-2*this.padding,o=(i.width,this.padding,Math.max.apply(Math,a(e.map((function(t){return t.high}))))),s=Math.min.apply(Math,a(e.map((function(t){return t.low})))),l=r/(o-s)*this.scaleY;e.forEach((function(e,i){var r=t.padding+i*(t.candleWidth+t.spaceBetweenCandles)+t.offsetX,a=t.padding+(o-e.high)*l,s=t.padding+(o-e.low)*l,c=t.padding+(o-e.open)*l,u=t.padding+(o-e.close)*l;n.beginPath(),n.moveTo(r+t.candleWidth/2,a),n.lineTo(r+t.candleWidth/2,s),n.strokeStyle="black",n.stroke(),n.fillStyle=e.open>e.close?"red":"green",n.fillRect(r,c,t.candleWidth,u-c)}))}}],i&&u(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(function(){return t=function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container=document.getElementById(e),this.container?(this.canvas=document.createElement("canvas"),this.container.appendChild(this.canvas),this.ctx=this.canvas.getContext("2d"),this.canvas.width=this.container.clientWidth,this.canvas.height=this.container.clientHeight,this.data=n,this.options=i):console.error("Container with id ".concat(e," not found."))},(n=[{key:"clearCanvas",value:function(){this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"drawAxes",value:function(){}},{key:"drawGrid",value:function(){}}])&&e(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,n}()),v=n(825),b=n(527),g=n(215);window.ChartingLibrary={CandlestickChart:p,RenkoChart:v.RenkoChart,HeikinAshiChart:b.HeikinAshiChart,BaselineChart:g.BaselineChart}})(),i})()));